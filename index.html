<!DOCTYPE HTML>
<html lang="en-US">
	<head>
		<title>jSurvey</title>
		<meta charset="UTF-8">
		<link rel="stylesheet/less" type="text/css" href="jsurvey.css">
		<script type="text/javascript" src="jquery-1.8.2.js"></script>
		<script type="text/javascript" src="Arbiter.js"></script>
		<script type="text/javascript" src="nanoscroller.js"></script>
		<script type="text/javascript" src="formapi.js"></script>
		<script type="text/javascript" src="radio.js"></script>
		<script type="text/javascript" src="jquery.jlib.js"></script>
		<script type="text/javascript" src="json2.js"></script>
		<script type="text/javascript" src="less-1.3.0.min.js"></script>
		<script type="text/javascript" src="droplist.js"></script>
		<script type="text/javascript" src="placeholder.js"></script>
		<script type="text/javascript" src="jsurvey.js"></script>
	</head>
	<body>
		<div id="container" style="width: 400px;">
			
		</div>
		<button class="btn_previous">&laquo; Previous</button><button class="btn_next">Next &raquo;</button><button class="btn_submit">Submit</button>
		
		<script type="text/javascript">
			
			/*var survey = [{
				name: {
					type:			"varchar",
					regex:			"^([A-Za-z]+)$",
					required:		true,
					placeholder:	"Your name",
					label:			"Your name",
					attr:	{
						"data-group": "1"
					}
				}
			},{
				email: {
					type:			"varchar",
					regex:			"^([A-Za-z0-9_\\-\\.])+\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]+)$",
					required:		true,
					placeholder:	"hello@world.com",
					label:			"Your email",
					attr:	{
						"data-group": "1"
					}
				}
			},{
				description: {
					type:			"text",
					placeholder:	"Description",
					required:		true,
					label:			false,
					attr:	{
						"data-group": "2"
					}
				}
			},{
				Fruit: {
					type:			"list",
					label:			"Fav Fruit?",
					placeholder:	"Select a fruit",
					list: [{
							value:		"apple",
							label:		"Apple"
						},{
							value:		"orange",
							label:		"Orange"
						},{
							value:		"kiwi",
							label:		"Kiwi"
					}],
					attr:	{
						"data-group": "2"
					}
				}
			},{
				lol: {
					type:			"varchar",
					regex:			"^([A-Za-z]+)$",
					required:		true,
					placeholder:	"LOL!",
					label:			"Lol",
					attr:	{
						"data-group": "3"
					}
				}
			},{
				email2: {
					type:			"varchar",
					regex:			"^([A-Za-z0-9_\\-\\.])+\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]+)$",
					required:		true,
					placeholder:	"hello@world.com",
					label:			"Your email",
					attr:	{
						"data-group": "3"
					}
				}
			}];*/
			var survey = [{
				screens1: {
					type:			"list",
					label:			"What did you think about the new screens between games?",
					placeholder:	"Select one",
					required:		true,
					list: [{
							value:		"bad",
							label:		"I didn't like it"
						},{
							value:		"neutral",
							label:		"I don't know"
						},{
							value:		"good",
							label:		"I liked it"
					}],
					attr:	{
						"data-group": "1"
					}
				}
			},{
				screens2: {
					type:			"radio",
					label:			"What did you think about the new screens between games?",
					required:		true,
					list: [{
							value:		"bad",
							label:		"I didn't like it"
						},{
							value:		"neutral",
							label:		"I don't know"
						},{
							value:		"good",
							label:		"I liked it"
					}],
					attr:	{
						"data-group": "1"
					}
				}
			},{
				bugs1: {
					type:			"list",
					label:			"Did you experience any bug during the race?",
					placeholder:	"Select one",
					required:		true,
					list: [{
							value:		"no",
							label:		"No bug"
						},{
							value:		"little",
							label:		"There was a few bugs"
						},{
							value:		"lot",
							label:		"There was a lot of bugs"
					}],
					attr:	{
						"data-group": "2"
					}
				}
			},{
				bugs2: {
					type:			"text",
					placeholder:	"",
					label:			"If you experienced any bug, please describe.",
					required:		false,
					attr:	{
						"data-group": "2"
					}
				}
			},{
				comments: {
					type:			"text",
					placeholder:	"",
					label:			"Do you have any comment about this race?",
					required:		true,
					attr:	{
						"data-group": "3"
					}
				}
			}];
			
			console.log("survey",JSON.stringify({survey:survey}));
			
			
			
			$(function() {
				$("#container").jsurvey({
					survey:		survey,
					submit:		$(".btn_submit"),
					next:		$(".btn_next"),
					previous:	$(".btn_previous"),
					block:		true,
					group:		true,
					onSubmit:	function(data) {
						console.log("JSON",JSON.stringify({
									race:	2,
									data:	data
								}));
						$.ajax({
							url: 		"http://localhost:8010/",
							dataType:	"json",
							type:		"POST",
							data:		{
								authtoken:	"test",
								method:		"survey",
								params:		{
									race:	2,
									data:	data
								}
							},
							success: 	function(response){
								console.log("response",response);
							}
						});
					}
				});
			});
		</script>
	</body>
</html>
