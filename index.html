<!DOCTYPE HTML>
<html lang="en-US">
	<head>
		<title>jSurvey</title>
		<meta charset="UTF-8">
		<link rel="stylesheet/less" type="text/css" href="jsurvey.css">
		<script type="text/javascript" src="jquery-1.8.2.js"></script>
		<script type="text/javascript" src="Arbiter.js"></script>
		<script type="text/javascript" src="nanoscroller.js"></script>
		<script type="text/javascript" src="formapi.js"></script>
		<script type="text/javascript" src="radio.js"></script>
		<script type="text/javascript" src="jquery.jlib.js"></script>
		<script type="text/javascript" src="json2.js"></script>
		<script type="text/javascript" src="less-1.3.0.min.js"></script>
		<script type="text/javascript" src="droplist.js"></script>
		<script type="text/javascript" src="placeholder.js"></script>
		<script type="text/javascript" src="jsurvey.js"></script>
	</head>
	<body>
		<div id="container" style="width: 400px;">
			
		</div>
		<button class="btn_previous">&laquo; Previous</button><button class="btn_next">Next &raquo;</button><button class="btn_submit">Submit</button>
		
		<script type="text/javascript">
			
			/*var survey = [{
				name: {
					type:			"varchar",
					regex:			"^([A-Za-z]+)$",
					required:		true,
					placeholder:	"Your name",
					label:			"Your name",
					attr:	{
						"data-group": "1"
					}
				}
			},{
				email: {
					type:			"varchar",
					regex:			"^([A-Za-z0-9_\\-\\.])+\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]+)$",
					required:		true,
					placeholder:	"hello@world.com",
					label:			"Your email",
					attr:	{
						"data-group": "1"
					}
				}
			},{
				description: {
					type:			"text",
					placeholder:	"Description",
					required:		true,
					label:			false,
					attr:	{
						"data-group": "2"
					}
				}
			},{
				Fruit: {
					type:			"list",
					label:			"Fav Fruit?",
					placeholder:	"Select a fruit",
					list: [{
							value:		"apple",
							label:		"Apple"
						},{
							value:		"orange",
							label:		"Orange"
						},{
							value:		"kiwi",
							label:		"Kiwi"
					}],
					attr:	{
						"data-group": "2"
					}
				}
			},{
				lol: {
					type:			"varchar",
					regex:			"^([A-Za-z]+)$",
					required:		true,
					placeholder:	"LOL!",
					label:			"Lol",
					attr:	{
						"data-group": "3"
					}
				}
			},{
				email2: {
					type:			"varchar",
					regex:			"^([A-Za-z0-9_\\-\\.])+\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]+)$",
					required:		true,
					placeholder:	"hello@world.com",
					label:			"Your email",
					attr:	{
						"data-group": "3"
					}
				}
			}];*/
			/*var survey = [{
				screens: {
					type:			"radio",
					label:			" What magazine recently wrote that CEO John Mackey “a man who has done more to improve the quality, sustainability, healthfulness, and purity of the food Americans eat—from farm field and barnyard to kitchen table—than anyone else in the past 25 years.”?",
					required:		true,
					list: [{
							value:		"Fast Company",
							label:		"Fast Company"
						},{
							value:		"Time",
							label:		"Time"
						},{
							value:		"The New Yorker",
							label:		"The New Yorker"
						},{
							value:		"Better Homes",
							label:		"Better Homes"
					}],
					attr:	{
						"data-group": "1"
					}
				}
			},{
				bugs1: {
					type:			"list",
					label:			"Did you experience any bug during the previous race?",
					placeholder:	"Select one",
					required:		true,
					list: [{
							value:		"no",
							label:		"No bug"
						},{
							value:		"little",
							label:		"There was a few bugs"
						},{
							value:		"lot",
							label:		"There was a lot of bugs"
					}],
					attr:	{
						"data-group": "2"
					}
				}
			},{
				bugs2: {
					type:			"text",
					placeholder:	"",
					label:			"If you experienced any bug, please describe.",
					required:		false,
					attr:	{
						"data-group": "2"
					}
				}
			}];
			
			
			
			var survey = [{
				browser: {
					type:			"radio",
					label:			"What browser are you using?",
					required:		true,
					list: [{
							value:		"Firefox",
							label:		"Firefox"
						},{
							value:		"Safari",
							label:		"Safari"
						},{
							value:		"Chrome",
							label:		"Chrome"
						},{
							value:		"IE",
							label:		"Internet Explorer"
					}],
					attr:	{
						"data-group": "1"
					}
				}
			},{
				os: {
					type:			"radio",
					label:			"What Operating System?",
					required:		true,
					list: [{
							value:		"Windows",
							label:		"Windows"
						},{
							value:		"Mac",
							label:		"Mac"
						},{
							value:		"Linux/Unix",
							label:		"Unix"
						}],
					attr:	{
						"data-group": "1"
					}
				}
			},{
				login: {
					type:			"radio",
					label:			"Are you connecting to fleetwit using facebook?",
					required:		true,
					list: [{
							value:		"Yes",
							label:		"Yes"
						},{
							value:		"No",
							label:		"No"
						}],
					attr:	{
						"data-group": "2"
					}
				}
			}];
			*/
			
			
			var survey = [{
				fun: {
					type:			"radio",
					label:			"Did you have fun playing?",
					required:		true,
					list: [{
							value:		"Yes",
							label:		"Yes"
						},{
							value:		"No",
							label:		"No"
						}],
					attr:	{
						"data-group": "1"
					}
				}
			},{
				participate: {
					type:			"radio",
					label:			"Would you be interested in participating in more race?",
					required:		true,
					list: [{
							value:		"Yes",
							label:		"Yes"
						},{
							value:		"No",
							label:		"No"
						}],
					attr:	{
						"data-group": "1"
					}
				}
			},{
				funscale: {
					type:			"scale",
					label:			"On a scale from 1 to 10, how would you rate this concept?",
					required:		true,
					scale:			{
						min:	1,
						max:	10
					},
					attr:	{
						"data-group": "2"
					}
				}
			},{
				word: {
					type:			"varchar",
					label:			"What word would be describe your race experience?",
					required:		true,
					attr:	{
						"data-group": "2"
					}
				}
			},{
				suggestions: {
					type:			"text",
					label:			"What would you like to be done differently with the next race?",
					required:		true,
					attr:	{
						"data-group": "2"
					}
				}
			}];
			
			
			
			console.log("survey",JSON.stringify({survey:survey,time:600}));
			
			
			
			$(function() {
				$("#container").jsurvey({
					survey:		survey,
					submit:		$(".btn_submit"),
					next:		$(".btn_next"),
					previous:	$(".btn_previous"),
					block:		true,
					group:		true,
					onSubmit:	function(data) {
						console.log("JSON",JSON.stringify({
									race:	2,
									data:	data
								}));
						$.ajax({
							url: 		"http://localhost:8010/",
							dataType:	"json",
							type:		"POST",
							data:		{
								authtoken:	"test",
								method:		"survey",
								params:		{
									race:	2,
									data:	data
								}
							},
							success: 	function(response){
								console.log("response",response);
							}
						});
					}
				});
			});
		</script>
	</body>
</html>
